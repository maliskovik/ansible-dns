$TTL {{ item.ttl|default(dns_defaults.ttl) }}
;
;       Database file controlsheet.cosylab.com.DB for controlsheet.cosylab.com zone.
;       Created with ansible.
;       Do not edit this file!!!
;
@        IN  SOA {{ item.nameserver|default(dns_defaults.nameservers[0]) }}        {{ item.email|default(dns_defaults.email) }} (
                {{ dns_serial }} ; serial
                {{ item.refresh|default(dns_defaults.refresh) }} ; refresh
                {{ item.retry|default(dns_defaults.retry) }} ; retry
                {{ item.expire|default(dns_defaults.expire) }} ; expire
                {{ item.default_ttl|default(dns_defaults.default_ttl) }} ; default_ttl
                )

;
; Zone Records
;
{# NS RECORDS #}

{% for nameserver in item.ns_records|default(dns_defaults.nameservers) %}
@                       IN  NS  {{ nameserver }}
{% endfor %}
{# A RECORDS #}
{% if item.a_records is defined %}

{% for record in item.a_records|default(omit) %}
{{ '%-20s'|format(record.name|default('@')) }}  {% if record.ttl is defined %}{{ '%-8s'|format(record.ttl|default("")) }} {% endif %}  {{ record.class|default("IN") }}  A      {{ record.target }}
{% endfor %}
{% endif %}
{# CNAME RECORDS #}
{% if item.cname_records is defined %}

{% for record in item.cname_records|default(omit) %}
{{ '%-20s'|format(record.name|default('@')) }}  {% if record.ttl is defined %}{{ '%-8s'|format(record.ttl|default("")) }} {% endif %}  {{ record.class|default("IN") }}  CNAME  {{ record.target|default("@") }}
{% endfor %}
{% endif %}
{# TXT RECORDS #}
{% if item.txt_records is defined %}

{% for record in item.txt_records|default(omit) %}
{{ '%-20s'|format(record.name|default('@')) }}  {% if record.ttl is defined %}{{ '%-8s'|format(record.ttl|default("")) }} {% endif %}  {{ record.class|default("IN") }}  TXT    ({% for subtext in record.text %}"{{ subtext }}" {% endfor %})
{% endfor %}
{% endif %}
{# MX RECORDS #}
{% if item.mx_records is defined %}

{% for record in item.mx_records|default(omit) %}
{{ '%-20s'|format(record.name|default('@')) }}  {% if record.ttl is defined %}{{ '%-8s'|format(record.ttl|default("")) }} {% endif %}  {{ record.class|default("IN") }}  MX     {{ record.priority}}  {{ record.target }}
{% endfor %}
{% endif %}
